{"ast":null,"code":"import React,{useState,useEffect}from'react';import\"../Css/profile-container.css\";import useravtar from\"../Images/user.png\";import axios from'axios';import Slider from\"react-slick\";import{Carousel}from'react-responsive-carousel';import\"slick-carousel/slick/slick.css\";import\"slick-carousel/slick/slick-theme.css\";import AudioPlayer from'react-h5-audio-player';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";function Profile(props){const[favoriteChannels,setFavoriteChannels]=useState([]);const userData=props.userData;const[showCarousel,setShowCarousel]=useState(null);useEffect(()=>{const fetchFavoriteChannels=async()=>{try{const response=await axios.get(\"https://live-radio-backend.onrender.com/api/auth/user/\".concat(userData.userId,\"/getfavchannel\"));setFavoriteChannels(response.data.favoriteChannels);// Show carousel if more than 7 channels\nif(response.data.favoriteChannels.length>9){setShowCarousel(1);}}catch(error){console.error('Error fetching user favorite channels:',error);}};if(userData){fetchFavoriteChannels();}},[userData]);console.log(\"userdata from profile: \",userData);console.log(\"favorite channels from profile: \",favoriteChannels);const[CurrentimagePath,setCurrentimagePath]=useState(null);const[Currentfrequency,setCurrentfrequency]=useState(null);const[CurrentstationName,setCurrentstationName]=useState(null);const[CurrentstationLink,setCurrentstationLink]=useState(null);const[Currentinformation,setCurrentinformation]=useState(null);const playAudio=(imagePath,frequency,stationName,stationLink,information)=>{setCurrentimagePath(imagePath);setCurrentfrequency(frequency);setCurrentstationName(stationName);setCurrentstationLink(stationLink);setCurrentinformation(information);};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"profile-container_profilejs\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"user_container_profilejs\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"user_profilejs\",children:[/*#__PURE__*/_jsx(\"img\",{src:useravtar,alt:\"\"}),/*#__PURE__*/_jsx(\"div\",{className:\"text_box_profilejs\",children:userData?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"h4\",{id:\"username\",children:[\" \",/*#__PURE__*/_jsx(\"b\",{children:userData.username})]}),/*#__PURE__*/_jsxs(\"h4\",{id:\"name\",children:[\"..\",userData.fullName]}),/*#__PURE__*/_jsxs(\"h4\",{id:\"email\",children:[\"....\",userData.email]})]}):/*#__PURE__*/_jsx(\"p\",{children:\"Loading user data...\"})})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"favchannel_container\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"profile_title_container\",children:/*#__PURE__*/_jsx(\"p\",{children:\" Favorite Channels\"})}),/*#__PURE__*/_jsx(Carousel,{showArrows:true,children:favoriteChannels.map((station,index)=>/*#__PURE__*/_jsxs(\"div\",{className:\"card\",onClick:()=>playAudio(station.imagePath,station.frequency,station.stationName,station.stationLink,station.information),children:[/*#__PURE__*/_jsx(\"img\",{src:station.imagePath,alt:\"radio_img\"}),/*#__PURE__*/_jsx(\"div\",{className:\"favbutton_container\",children:/*#__PURE__*/_jsxs(\"p\",{children:[station.frequency,\" \",station.stationName]})})]},index))})]})]}),CurrentstationLink&&/*#__PURE__*/_jsxs(\"div\",{className:\"radio-player\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"name_image\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"station_img\",children:[/*#__PURE__*/_jsx(\"img\",{src:CurrentimagePath,alt:\"radio_img\"}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h4\",{id:\"currentstationname\",children:CurrentstationName}),/*#__PURE__*/_jsx(\"p\",{id:\"currentstationname2\",children:\"From maharashtra\"})]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"react_player\",children:/*#__PURE__*/_jsx(\"card\",{children:/*#__PURE__*/_jsx(AudioPlayer,{autoPlay:true,src:CurrentstationLink,showJumpControls:false,customAdditionalControls:[],customProgressBarSection:[]})})})]})]});}export{Profile};","map":{"version":3,"names":["React","useState","useEffect","useravtar","axios","Slider","Carousel","AudioPlayer","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Profile","props","favoriteChannels","setFavoriteChannels","userData","showCarousel","setShowCarousel","fetchFavoriteChannels","response","get","concat","userId","data","length","error","console","log","CurrentimagePath","setCurrentimagePath","Currentfrequency","setCurrentfrequency","CurrentstationName","setCurrentstationName","CurrentstationLink","setCurrentstationLink","Currentinformation","setCurrentinformation","playAudio","imagePath","frequency","stationName","stationLink","information","children","className","src","alt","id","username","fullName","email","showArrows","map","station","index","onClick","autoPlay","showJumpControls","customAdditionalControls","customProgressBarSection"],"sources":["C:/Users/shubh/OneDrive/Desktop/radio with backend/frontend/src/Components/profile.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport \"../Css/profile-container.css\";\r\nimport useravtar from \"../Images/user.png\";\r\nimport axios from 'axios';\r\nimport Slider from \"react-slick\";\r\nimport { Carousel } from 'react-responsive-carousel';\r\nimport \"slick-carousel/slick/slick.css\";\r\nimport \"slick-carousel/slick/slick-theme.css\";\r\nimport AudioPlayer from 'react-h5-audio-player';\r\n\r\nfunction Profile(props) {\r\n  const [favoriteChannels, setFavoriteChannels] = useState([]);\r\n  const userData = props.userData;\r\n  const [showCarousel, setShowCarousel] = useState(null);\r\n\r\n\r\n\r\n  \r\n\r\n  useEffect(() => {\r\n    const fetchFavoriteChannels = async () => {\r\n      try {\r\n        const response = await axios.get(`https://live-radio-backend.onrender.com/api/auth/user/${userData.userId}/getfavchannel`);\r\n        setFavoriteChannels(response.data.favoriteChannels);\r\n        // Show carousel if more than 7 channels\r\n        if (response.data.favoriteChannels.length > 9) {\r\n          setShowCarousel(1);\r\n        }\r\n      } catch (error) {\r\n        console.error('Error fetching user favorite channels:', error);\r\n      }\r\n    };\r\n\r\n    if (userData) {\r\n      fetchFavoriteChannels();\r\n    }\r\n  }, [userData]);\r\n\r\n  console.log(\"userdata from profile: \", userData);\r\n  console.log(\"favorite channels from profile: \", favoriteChannels);\r\n\r\n\r\n  const [CurrentimagePath, setCurrentimagePath] = useState(null); \r\n  const [Currentfrequency, setCurrentfrequency] = useState(null); \r\n  const [CurrentstationName, setCurrentstationName] = useState(null); \r\n  const [CurrentstationLink, setCurrentstationLink] = useState(null);    \r\n  const [Currentinformation, setCurrentinformation] = useState(null);\r\n\r\n  const playAudio = (imagePath,frequency,stationName,stationLink,information) => {    \r\n    setCurrentimagePath(imagePath);\r\n    setCurrentfrequency(frequency); \r\n    setCurrentstationName(stationName);\r\n    setCurrentstationLink(stationLink);\r\n    setCurrentinformation(information);\r\n  };\r\n  \r\n  return (\r\n    <>\r\n      \r\n      <div className=\"profile-container_profilejs\">\r\n        <div className=\"user_container_profilejs\">\r\n          <div className=\"user_profilejs\">\r\n            <img src={useravtar} alt='' />\r\n            <div className=\"text_box_profilejs\">\r\n              {userData ? (\r\n                <>\r\n                  <h4 id=\"username\"> <b>{userData.username}</b></h4>\r\n                  <h4 id=\"name\">..{userData.fullName}</h4>\r\n                  <h4 id=\"email\">....{userData.email}</h4>\r\n                </>\r\n              ) : (\r\n                <p>Loading user data...</p>\r\n              )}\r\n            </div>\r\n             {/* favoriteChannels.map */}\r\n          </div>\r\n        </div>\r\n    \r\n<div className=\"favchannel_container\">\r\n <div className='profile_title_container'>\r\n     <p> Favorite Channels</p>\r\n     </div>\r\n\r\n        <Carousel  showArrows={true}>\r\n          {favoriteChannels.map((station, index) => (\r\n            <div className=\"card\" key={index} onClick={() => playAudio(station.imagePath, station.frequency, station.stationName, station.stationLink, station.information)}>\r\n              <img src={station.imagePath} alt=\"radio_img\" />\r\n              <div className=\"favbutton_container\">\r\n                <p>{station.frequency} {station.stationName}</p>\r\n              </div>\r\n            </div>\r\n          ))}\r\n        </Carousel>\r\n      </div>\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n      </div>\r\n       {CurrentstationLink && ( \r\n          <div className=\"radio-player\">\r\n            <div className=\"name_image\">\r\n              <div className=\"station_img\">\r\n                <img src={CurrentimagePath} alt='radio_img'/>\r\n                <div>\r\n                  <h4 id=\"currentstationname\">{CurrentstationName}</h4>\r\n                  <p id=\"currentstationname2\">From maharashtra</p>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div className=\"react_player\">\r\n              <card>\r\n                <AudioPlayer\r\n                  autoPlay \r\n                  src={CurrentstationLink}\r\n                  showJumpControls={false}\r\n                  customAdditionalControls={[]} \r\n                  customProgressBarSection={[]} \r\n                />\r\n              </card>\r\n            </div>\r\n          </div>\r\n       )}\r\n    \r\n    </>\r\n  );\r\n}\r\n\r\nexport { Profile };\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}