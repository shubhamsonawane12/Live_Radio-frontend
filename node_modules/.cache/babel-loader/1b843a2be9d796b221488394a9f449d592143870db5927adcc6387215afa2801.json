{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/shubh/OneDrive/Desktop/radio with backend/frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/shubh/OneDrive/Desktop/radio with backend/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/shubh/OneDrive/Desktop/radio with backend/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from'react';import\"../Css/profile-container.css\";import useravtar from\"../Images/user.png\";import axios from'axios';import Slider from\"react-slick\";import{Carousel}from'react-responsive-carousel';import\"slick-carousel/slick/slick.css\";import\"slick-carousel/slick/slick-theme.css\";import AudioPlayer from'react-h5-audio-player';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function Profile(props){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),favoriteChannels=_useState2[0],setFavoriteChannels=_useState2[1];var userData=props.userData;var _useState3=useState(null),_useState4=_slicedToArray(_useState3,2),showCarousel=_useState4[0],setShowCarousel=_useState4[1];useEffect(function(){var fetchFavoriteChannels=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var response;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return axios.get(\"https://live-radio-backend.onrender.com/api/auth/user/\".concat(userData.userId,\"/getfavchannel\"));case 3:response=_context.sent;setFavoriteChannels(response.data.favoriteChannels);// Show carousel if more than 7 channels\nif(response.data.favoriteChannels.length>9){setShowCarousel(1);}_context.next=11;break;case 8:_context.prev=8;_context.t0=_context[\"catch\"](0);console.error('Error fetching user favorite channels:',_context.t0);case 11:case\"end\":return _context.stop();}},_callee,null,[[0,8]]);}));return function fetchFavoriteChannels(){return _ref.apply(this,arguments);};}();if(userData){fetchFavoriteChannels();}},[userData]);console.log(\"userdata from profile: \",userData);console.log(\"favorite channels from profile: \",favoriteChannels);var _useState5=useState(null),_useState6=_slicedToArray(_useState5,2),CurrentimagePath=_useState6[0],setCurrentimagePath=_useState6[1];var _useState7=useState(null),_useState8=_slicedToArray(_useState7,2),Currentfrequency=_useState8[0],setCurrentfrequency=_useState8[1];var _useState9=useState(null),_useState10=_slicedToArray(_useState9,2),CurrentstationName=_useState10[0],setCurrentstationName=_useState10[1];var _useState11=useState(null),_useState12=_slicedToArray(_useState11,2),CurrentstationLink=_useState12[0],setCurrentstationLink=_useState12[1];var _useState13=useState(null),_useState14=_slicedToArray(_useState13,2),Currentinformation=_useState14[0],setCurrentinformation=_useState14[1];var playAudio=function playAudio(imagePath,frequency,stationName,stationLink,information){setCurrentimagePath(imagePath);setCurrentfrequency(frequency);setCurrentstationName(stationName);setCurrentstationLink(stationLink);setCurrentinformation(information);};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"profile-container_profilejs\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"user_container_profilejs\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"user_profilejs\",children:[/*#__PURE__*/_jsx(\"img\",{src:useravtar,alt:\"\"}),/*#__PURE__*/_jsx(\"div\",{className:\"text_box_profilejs\",children:userData?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"h4\",{id:\"username\",children:[\" \",/*#__PURE__*/_jsx(\"b\",{children:userData.username})]}),/*#__PURE__*/_jsxs(\"h4\",{id:\"name\",children:[\"..\",userData.fullName]}),/*#__PURE__*/_jsxs(\"h4\",{id:\"email\",children:[\"....\",userData.email]})]}):/*#__PURE__*/_jsx(\"p\",{children:\"Loading user data...\"})})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"favchannel_container\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"profile_title_container\",children:/*#__PURE__*/_jsx(\"p\",{children:\" Favorite Channels\"})}),/*#__PURE__*/_jsx(Carousel,{showArrows:true,children:favoriteChannels.map(function(station,index){return/*#__PURE__*/_jsxs(\"div\",{className:\"card\",onClick:function onClick(){return playAudio(station.imagePath,station.frequency,station.stationName,station.stationLink,station.information);},children:[/*#__PURE__*/_jsx(\"img\",{src:station.imagePath,alt:\"radio_img\"}),/*#__PURE__*/_jsx(\"div\",{className:\"favbutton_container\",children:/*#__PURE__*/_jsxs(\"p\",{children:[station.frequency,\" \",station.stationName]})})]},index);})})]})]}),CurrentstationLink&&/*#__PURE__*/_jsxs(\"div\",{className:\"radio-player\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"name_image\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"station_img\",children:[/*#__PURE__*/_jsx(\"img\",{src:CurrentimagePath,alt:\"radio_img\"}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h4\",{id:\"currentstationname\",children:CurrentstationName}),/*#__PURE__*/_jsx(\"p\",{id:\"currentstationname2\",children:\"From maharashtra\"})]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"react_player\",children:/*#__PURE__*/_jsx(\"card\",{children:/*#__PURE__*/_jsx(AudioPlayer,{autoPlay:true,src:CurrentstationLink,showJumpControls:false,customAdditionalControls:[],customProgressBarSection:[]})})})]})]});}export{Profile};","map":{"version":3,"names":["React","useState","useEffect","useravtar","axios","Slider","Carousel","AudioPlayer","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Profile","props","_useState","_useState2","_slicedToArray","favoriteChannels","setFavoriteChannels","userData","_useState3","_useState4","showCarousel","setShowCarousel","fetchFavoriteChannels","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","response","wrap","_callee$","_context","prev","next","get","concat","userId","sent","data","length","t0","console","error","stop","apply","arguments","log","_useState5","_useState6","CurrentimagePath","setCurrentimagePath","_useState7","_useState8","Currentfrequency","setCurrentfrequency","_useState9","_useState10","CurrentstationName","setCurrentstationName","_useState11","_useState12","CurrentstationLink","setCurrentstationLink","_useState13","_useState14","Currentinformation","setCurrentinformation","playAudio","imagePath","frequency","stationName","stationLink","information","children","className","src","alt","id","username","fullName","email","showArrows","map","station","index","onClick","autoPlay","showJumpControls","customAdditionalControls","customProgressBarSection"],"sources":["C:/Users/shubh/OneDrive/Desktop/radio with backend/frontend/src/Components/profile.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport \"../Css/profile-container.css\";\r\nimport useravtar from \"../Images/user.png\";\r\nimport axios from 'axios';\r\nimport Slider from \"react-slick\";\r\nimport { Carousel } from 'react-responsive-carousel';\r\nimport \"slick-carousel/slick/slick.css\";\r\nimport \"slick-carousel/slick/slick-theme.css\";\r\nimport AudioPlayer from 'react-h5-audio-player';\r\n\r\nfunction Profile(props) {\r\n  const [favoriteChannels, setFavoriteChannels] = useState([]);\r\n  const userData = props.userData;\r\n  const [showCarousel, setShowCarousel] = useState(null);\r\n\r\n\r\n\r\n  \r\n\r\n  useEffect(() => {\r\n    const fetchFavoriteChannels = async () => {\r\n      try {\r\n        const response = await axios.get(`https://live-radio-backend.onrender.com/api/auth/user/${userData.userId}/getfavchannel`);\r\n        setFavoriteChannels(response.data.favoriteChannels);\r\n        // Show carousel if more than 7 channels\r\n        if (response.data.favoriteChannels.length > 9) {\r\n          setShowCarousel(1);\r\n        }\r\n      } catch (error) {\r\n        console.error('Error fetching user favorite channels:', error);\r\n      }\r\n    };\r\n\r\n    if (userData) {\r\n      fetchFavoriteChannels();\r\n    }\r\n  }, [userData]);\r\n\r\n  console.log(\"userdata from profile: \", userData);\r\n  console.log(\"favorite channels from profile: \", favoriteChannels);\r\n\r\n\r\n  const [CurrentimagePath, setCurrentimagePath] = useState(null); \r\n  const [Currentfrequency, setCurrentfrequency] = useState(null); \r\n  const [CurrentstationName, setCurrentstationName] = useState(null); \r\n  const [CurrentstationLink, setCurrentstationLink] = useState(null);    \r\n  const [Currentinformation, setCurrentinformation] = useState(null);\r\n\r\n  const playAudio = (imagePath,frequency,stationName,stationLink,information) => {    \r\n    setCurrentimagePath(imagePath);\r\n    setCurrentfrequency(frequency); \r\n    setCurrentstationName(stationName);\r\n    setCurrentstationLink(stationLink);\r\n    setCurrentinformation(information);\r\n  };\r\n  \r\n  return (\r\n    <>\r\n      \r\n      <div className=\"profile-container_profilejs\">\r\n        <div className=\"user_container_profilejs\">\r\n          <div className=\"user_profilejs\">\r\n            <img src={useravtar} alt='' />\r\n            <div className=\"text_box_profilejs\">\r\n              {userData ? (\r\n                <>\r\n                  <h4 id=\"username\"> <b>{userData.username}</b></h4>\r\n                  <h4 id=\"name\">..{userData.fullName}</h4>\r\n                  <h4 id=\"email\">....{userData.email}</h4>\r\n                </>\r\n              ) : (\r\n                <p>Loading user data...</p>\r\n              )}\r\n            </div>\r\n             {/* favoriteChannels.map */}\r\n          </div>\r\n        </div>\r\n    \r\n<div className=\"favchannel_container\">\r\n <div className='profile_title_container'>\r\n     <p> Favorite Channels</p>\r\n     </div>\r\n\r\n        <Carousel  showArrows={true}>\r\n          {favoriteChannels.map((station, index) => (\r\n            <div className=\"card\" key={index} onClick={() => playAudio(station.imagePath, station.frequency, station.stationName, station.stationLink, station.information)}>\r\n              <img src={station.imagePath} alt=\"radio_img\" />\r\n              <div className=\"favbutton_container\">\r\n                <p>{station.frequency} {station.stationName}</p>\r\n              </div>\r\n            </div>\r\n          ))}\r\n        </Carousel>\r\n      </div>\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n      </div>\r\n       {CurrentstationLink && ( \r\n          <div className=\"radio-player\">\r\n            <div className=\"name_image\">\r\n              <div className=\"station_img\">\r\n                <img src={CurrentimagePath} alt='radio_img'/>\r\n                <div>\r\n                  <h4 id=\"currentstationname\">{CurrentstationName}</h4>\r\n                  <p id=\"currentstationname2\">From maharashtra</p>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div className=\"react_player\">\r\n              <card>\r\n                <AudioPlayer\r\n                  autoPlay \r\n                  src={CurrentstationLink}\r\n                  showJumpControls={false}\r\n                  customAdditionalControls={[]} \r\n                  customProgressBarSection={[]} \r\n                />\r\n              </card>\r\n            </div>\r\n          </div>\r\n       )}\r\n    \r\n    </>\r\n  );\r\n}\r\n\r\nexport { Profile };\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}