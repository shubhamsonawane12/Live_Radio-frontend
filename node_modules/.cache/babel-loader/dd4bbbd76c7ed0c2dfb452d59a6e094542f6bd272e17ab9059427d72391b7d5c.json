{"ast":null,"code":"import React,{useState,useEffect}from'react';import Sidebar from'./Components/Sidebar';// import { BrowserRouter, Route, Route } from 'react-router-dom';\nimport Sidemenu from\"./Components/sidemenu.js\";import\"./Css/Main.css\";import Maharashtra from'./Components/Maharashtra';import NewDelhi from'./Components/New Delhi';import Rajastan from'./Components/Rajastan';import Login from\"./Components/login.js\";import{Router,Route}from'wouter';import Gujrat from'./Components/Gujrat';import AndhraPradesh from'./Components/Andhra Pradesh';import Signin from'./Components/signin';import{Profile}from\"./Components/profile.js\";import Cookies from'universal-cookie';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const cookies=new Cookies();const token=cookies.get('token');function Main(){const[userData,setUserData]=useState(null);const removeData=()=>{setUserData(null);};useEffect(()=>{// Fetch user details when the component mounts\nfetchUserData();},[]);const fetchUserData=async()=>{try{// Make an HTTP request to your backend API to get user details\nconst response=await fetch('https://live-radio-backend.onrender.com/api/auth/profile',{method:'GET',headers:{'Authorization':\"Bearer \".concat(token),// Include the user token\n'Content-Type':'application/json'}});if(response.ok){const data=await response.json();setUserData(data);// Update state with user data\n}else{console.error('Failed to fetch user data:',response.statusText);}}catch(error){console.error('Error fetching user data:',error);}};console.log(\"userdata from main:\",userData);return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Sidebar,{userData:userData,removeData:removeData}),/*#__PURE__*/_jsxs(\"div\",{className:\"main\",children:[/*#__PURE__*/_jsx(Sidemenu,{userData:userData,removeData:removeData}),/*#__PURE__*/_jsxs(Router,{children:[/*#__PURE__*/_jsx(Route,{path:\"/\",component:()=>/*#__PURE__*/_jsx(Maharashtra,{userData:userData})}),/*#__PURE__*/_jsx(Route,{path:\"/login\",component:()=>/*#__PURE__*/_jsx(Login,{userData:userData})}),/*#__PURE__*/_jsx(Route,{path:\"/signin\",component:()=>/*#__PURE__*/_jsx(Signin,{userData:userData})}),/*#__PURE__*/_jsx(Route,{path:\"/NewDelhi\",component:()=>/*#__PURE__*/_jsx(NewDelhi,{userData:userData})}),/*#__PURE__*/_jsx(Route,{path:\"/Rajastani\",component:()=>/*#__PURE__*/_jsx(Rajastan,{userData:userData})}),/*#__PURE__*/_jsx(Route,{path:\"/Gujrat\",component:()=>/*#__PURE__*/_jsx(Gujrat,{userData:userData})}),/*#__PURE__*/_jsx(Route,{path:\"/AndhraPradesh\",component:()=>/*#__PURE__*/_jsx(AndhraPradesh,{userData:userData})}),/*#__PURE__*/_jsx(Route,{path:\"/Profile\",component:()=>/*#__PURE__*/_jsx(Profile,{userData:userData})})]})]})]});}export default Main;","map":{"version":3,"names":["React","useState","useEffect","Sidebar","Sidemenu","Maharashtra","NewDelhi","Rajastan","Login","Router","Route","Gujrat","AndhraPradesh","Signin","Profile","Cookies","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","cookies","token","get","Main","userData","setUserData","removeData","fetchUserData","response","fetch","method","headers","concat","ok","data","json","console","error","statusText","log","children","className","path","component"],"sources":["C:/Users/shubh/OneDrive/Desktop/radio with backend/frontend/src/Main.js"],"sourcesContent":["import React,{useState,useEffect} from 'react';\r\nimport Sidebar from './Components/Sidebar';\r\n// import { BrowserRouter, Route, Route } from 'react-router-dom';\r\nimport Sidemenu from \"./Components/sidemenu.js\"\r\nimport \"./Css/Main.css\"\r\nimport Maharashtra from './Components/Maharashtra';\r\nimport NewDelhi from './Components/New Delhi';\r\nimport Rajastan from './Components/Rajastan';\r\nimport Login from \"./Components/login.js\";\r\nimport { Router, Route } from 'wouter';\r\nimport Gujrat from './Components/Gujrat';\r\nimport AndhraPradesh from './Components/Andhra Pradesh';\r\nimport Signin from './Components/signin';\r\nimport {Profile} from \"./Components/profile.js\"\r\nimport Cookies from 'universal-cookie';\r\n\r\nconst cookies = new Cookies();\r\nconst token = cookies.get('token');\r\n\r\n\r\n\r\nfunction Main() {\r\n\r\n  const [userData, setUserData] = useState(null); \r\n    const removeData = () => {\r\n    setUserData(null);\r\n  };\r\n\r\n\r\n useEffect(() => {\r\n    \r\n    // Fetch user details when the component mounts\r\n    fetchUserData();\r\n  }, []);\r\n\r\n  const fetchUserData = async () => {\r\n    try {\r\n      // Make an HTTP request to your backend API to get user details\r\n      const response = await fetch('https://live-radio-backend.onrender.com/api/auth/profile', {\r\n        method: 'GET',\r\n        headers: {\r\n          'Authorization': `Bearer ${token}`, // Include the user token\r\n          'Content-Type': 'application/json',\r\n        },\r\n      });\r\n\r\n      if (response.ok) {\r\n        const data = await response.json();\r\n        setUserData(data); // Update state with user data\r\n      } else {\r\n        console.error('Failed to fetch user data:', response.statusText);\r\n      }\r\n    } catch (error) {\r\n      console.error('Error fetching user data:', error);\r\n    }\r\n  };\r\n  console.log(\"userdata from main:\",userData)\r\n  return (\r\n    <>\r\n\r\n   \r\n      {/* <div className=\"background-Transition\">\r\n     <video\r\n        autoPlay\r\n        loop\r\n        muted\r\n        style={{\r\n          position: 'fixed',\r\n          width: '100%',\r\n          height: '100%',\r\n          objectFit: 'cover',\r\n          zIndex: '-1',\r\n        }}\r\n      >\r\n        <source src={OceanVideo} type=\"video/mp4\" />\r\n      </video> */}\r\n    \r\n    <Sidebar userData={userData} removeData={removeData}/>\r\n    <div className='main'>\r\n\r\n   <Sidemenu userData={userData} removeData={removeData}/>\r\n <Router>\r\n\r\n      <Route path=\"/\" component={() => <Maharashtra userData={userData} />} />\r\n      <Route path=\"/login\"  component={() => <Login userData={userData} />}/>\r\n      <Route path=\"/signin\"  component={() => <Signin  userData={userData}/>}/>\r\n      <Route path=\"/NewDelhi\" component={() => <NewDelhi userData={userData} />} /> \r\n      <Route path=\"/Rajastani\" component={() => <Rajastan userData={userData} />}/>\r\n      <Route path=\"/Gujrat\"  component={() => <Gujrat userData={userData} />}/>\r\n       <Route path=\"/AndhraPradesh\" component={() => <AndhraPradesh userData={userData} />}/>\r\n      <Route path=\"/Profile\" component={() => <Profile userData={userData} />}/>\r\n    </Router>\r\n\r\n\r\n\r\n\r\n{/* \r\n<Maharashtra/>\r\n<NewDelhi/>\r\n<Rajastan/> */}\r\n  \r\n    </div>\r\n   \r\n\r\n    </>\r\n  )\r\n}\r\n\r\nexport default Main;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}